(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},102:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),o=(a(100),a(15)),s=a(16),l=a(18),m=a(17),u=a(19),d=(a(101),a(102),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).changeUnit=function(e){var t=e.target.textContent;a.props.onUnitChange(t)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"degrees-container"},r.a.createElement("div",{className:"degrees-item ".concat("K"===this.props.unit?"active":""),onClick:this.changeUnit},r.a.createElement("span",null,"K")),r.a.createElement("div",{className:"degrees-item ".concat("C"===this.props.unit?"active":""),onClick:this.changeUnit},r.a.createElement("span",null,"C")),r.a.createElement("div",{className:"degrees-item ".concat("F"===this.props.unit?"active":""),onClick:this.changeUnit},r.a.createElement("span",null,"F")))}}]),t}(n.Component)),p=a(49),h=a(94),f=a.n(h),g=a(31),v=a.n(g),y=a(93),E=a.n(y),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleQueryStringChange=function(e){a.setState({query:e.target.value})},a.handleSearch=function(e){e.preventDefault(),console.log("Fetch weather data for:",a.state.query),a.props.onSearchSubmit(a.state.query)},a.state={query:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSearch},r.a.createElement("div",{className:e.margin},r.a.createElement(v.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(v.a,{item:!0},r.a.createElement(E.a,null)),r.a.createElement(v.a,{item:!0},r.a.createElement(f.a,{id:"input-with-icon-grid",label:"Enter a city",className:e.root,InputProps:{className:e.input},InputLabelProps:{style:{color:"white"}},value:this.state.query,onChange:this.handleQueryStringChange})),r.a.createElement(v.a,{item:!0},r.a.createElement("i",{class:"fas fa-search",style:{cursor:"pointer"},onClick:this.handleSearch}))))))}}]),t}(n.Component),w=Object(p.withStyles)(function(e){return{margin:{margin:e.spacing.unit,color:"white"},root:{color:"white"},input:{color:"white",boxyhadow:"0 4px 2px -2px gray"}}})(b),C=(a(232),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).sendNewUnitToParent=function(e){a.props.onUnitChange(e)},a.sendQueryStringToParent=function(e){a.props.onSearchSubmit(e)},a.state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"navbar-container"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(w,{onSearchSubmit:this.sendQueryStringToParent})),r.a.createElement("li",{className:"navbar-item city-name"},r.a.createElement("p",null,this.props.data.city)),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(d,{unit:this.props.unit,onUnitChange:this.sendNewUnitToParent}))))}}]),t}(n.Component)),x=(a(233),[210,211,212,221,731,761,762,800]),N=[200,201,202,230,231,232,600,601,602,621,622,711,721,741,771,781,801,802,803,804],S=function(e){var t=function(e,t){return e.indexOf(t)>-1};return t(x,e)?"wi-yellow":t(N,e)?"wi-gray":"wi-blue"},O=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.day,a=e.date,n=e.weatherId,c=e.description,i=e.mainTemperature,o=e.minTemperature,s=e.maxTemperature,l=e.pressure,m=e.humidity,u=e.windSpeed,d=this.props.unit,p=this.props.uvIndex,h=S(n);return r.a.createElement("div",{className:"today-container"},r.a.createElement("div",{className:"date-container"},r.a.createElement("div",null,t),r.a.createElement("div",null,a)),r.a.createElement("div",{className:"icon-desc-container"},r.a.createElement("div",{className:"icon-container"},r.a.createElement("i",{className:"wi wi-owm-".concat(n," weather-icon ").concat(h)})),r.a.createElement("div",{className:"weather-desc"},c)),r.a.createElement("div",{className:"temp-container"},r.a.createElement("div",{className:"temp-text"},r.a.createElement("span",null,i),r.a.createElement("i",{className:"wi wi-degrees"})),r.a.createElement("div",{className:"high-low-container"},r.a.createElement("div",{className:"high-low-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-direction-up"})),r.a.createElement("span",null,"Max"),r.a.createElement("span",null,r.a.createElement("span",null,s,"\xb0"))),r.a.createElement("div",{className:"high-low-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-direction-down"})),r.a.createElement("span",null,"Min"),r.a.createElement("span",null,r.a.createElement("span",null,o,"\xb0"))))),r.a.createElement("div",{className:"extra-info-container"},r.a.createElement("div",{className:"extra-info-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-humidity"})),r.a.createElement("span",null,"Humidity:"),r.a.createElement("span",null,m," %")),r.a.createElement("div",{className:"extra-info-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-barometer"})),r.a.createElement("span",null,"Pressure:"),r.a.createElement("span",null,l," hPa")),r.a.createElement("div",{className:"extra-info-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-strong-wind"})),r.a.createElement("span",null,"Wind Speed:"),r.a.createElement("span",null,u," ","F"===d?"miles/hr":"m/s")),r.a.createElement("div",{className:"extra-info-item"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-sunset"})),r.a.createElement("span",null,"UV Index:"),r.a.createElement("span",null,p))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).sendIndex=function(){a.props.onIndexChange(a.props.listId)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.date,a=(e.pressure,e.humidity,e.day),n=e.weatherId,c=e.description,i=e.mainTemperature,o=S(n);return r.a.createElement("div",{className:"single-list-item",onClick:this.sendIndex},r.a.createElement("div",{className:"li-info-container"},r.a.createElement("div",{className:"li-day"},a),r.a.createElement("div",{className:"li-day"},t),r.a.createElement("div",{className:"li-temp-text"},i,"\xb0"),r.a.createElement("div",{className:"li-desc"},c)),r.a.createElement("div",{className:"li-weather-icon"},r.a.createElement("i",{className:"wi wi-owm-".concat(n," ").concat(o)})))}}]),t}(n.Component),D=(a(234),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).sendIndexToParent=function(e){a.props.onIndexForTodayChange(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=0,a=this.props.data.map(function(a){return t++,r.a.createElement(j,{key:a.day,data:a,listId:t-1,onIndexChange:e.sendIndexToParent})});return r.a.createElement("div",{className:"list-container"},a)}}]),t}(n.Component)),T=a(50),F=(a(235),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"graph-container"},r.a.createElement("div",{className:"graph-info"},r.a.createElement("span",null,"Temperature variation over 7 days")),r.a.createElement("div",{className:"graph"},r.a.createElement(T.Sparklines,{data:this.props.data},r.a.createElement(T.SparklinesLine,{color:"white"}))))}}]),t}(n.Component)),I=(a(236),a(51)),k=a.n(I),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onIndexForTodayChange=function(e){a.setState({indexForToday:e},function(){this.notifyStateChange()})},a.onUnitChange=function(e){a.setState({unit:e},a.notifyStateChange),console.log(e)},a.onSearchSubmit=function(e){a.setState({queryString:e,latLng:[]},a.notifyStateChange)},a.notifyStateChange=function(){var e=a.state.latLng.length>0,t=""!==a.state.queryString;(e||t)&&a.fetchWeatherForecast(e).then(function(e){console.log("Forecast Data:",e);var t=a.extractDataForNavbar(e),n=a.extractDataForListAndGraphComponent(e),r=n.listComponentData,c=n.graphComponentData,i=a.extractDataForTodayComponent(e);a.setState({navbarData:t,todayComponentData:i,listComponentData:r,graphComponentData:c,lat:e.city.coord.lat,lon:e.city.coord.lon})}).then(function(){a.fetchUVIndex(e).then(function(e){console.log("This is UV index data",e),0!=a.state.indexForToday?a.setState({uvIndex:e[a.state.indexForToday-1].value}):a.setState({uvIndex:e.value})}).catch(function(){})}).catch(function(e){console.log("Error:",e)})},a.fetchWeatherForecast=function(e){var t=e?"lat=".concat(a.state.latLng[0],"&lon=").concat(a.state.latLng[1]):"q=".concat(a.state.queryString),n="C"===a.state.unit?"metric":"F"===a.state.unit?"imperial":"standard",r="".concat("https://api.openweathermap.org/data/2.5/forecast","?").concat(t,"&units=").concat(n,"&cnt=40&appid=").concat("f52e83dffc7d0cf73311fcb22abfab18");return k.a.get(r).then(function(e){return e.data}).catch(function(e){console.log("Error:",e)})},a.fetchUVIndex=function(e){var t="";if(0==a.state.indexForToday){var n=e?"lat=".concat(a.state.latLng[0],"&lon=").concat(a.state.latLng[1]):"lat=".concat(a.state.lat,"&lon=").concat(a.state.lon);t="".concat("https://api.openweathermap.org/data/2.5/uvi","?").concat(n,"&appid=").concat("f52e83dffc7d0cf73311fcb22abfab18")}else{var r=e?"lat=".concat(a.state.latLng[0],"&lon=").concat(a.state.latLng[1]):"lat=".concat(a.state.lat,"&lon=").concat(a.state.lon);t="".concat("https://api.openweathermap.org/data/2.5/uvi/forecast","?").concat(r,"&appid=").concat("f52e83dffc7d0cf73311fcb22abfab18","&cnt=4")}return k.a.get(t).then(function(e){return e.data}).catch(function(e){console.log("Error:",e)})},a.extractDataForNavbar=function(e){return{city:"".concat(e.city.name,", ").concat(e.city.country)}},a.extractDataForTodayComponent=function(e){console.log("This is forecast data for today component",e);var t=5==a.state.indexForToday?39:8*a.state.indexForToday,n=e.list[t];console.log(n);var r=new Date(1e3*n.dt),c=a.getDay(r),i="".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]," ").concat(r.getDate(),", ").concat(r.getFullYear()),o=n.weather[0].id,s=n.weather[0].description;s=s.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ").toString();(new Date).getHours();var l=n.main.temp;return{day:c,date:i,weatherId:o,description:s,mainTemperature:l=Math.round(l),minTemperature:Math.round(n.main.temp_min),maxTemperature:Math.round(n.main.temp_max),pressure:n.main.pressure,humidity:n.main.humidity,windSpeed:n.wind.speed}},a.extractDataForListAndGraphComponent=function(e){console.log(e);var t=[],n=[],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.list.forEach(function(c){if(e.list.indexOf(c)%8==0||e.list.indexOf(c)==e.list.length-1){var i={};i.day=a.getDay(1e3*c.dt);var o=new Date(1e3*c.dt);i.date="".concat(r[o.getMonth()]," ").concat(o.getDate(),", ").concat(o.getFullYear()),i.weatherId=c.weather[0].id,i.description=c.weather[0].description,i.mainTemperature=Math.round(c.main.temp),i.pressure=c.main.pressure,i.humidity=c.main.humidity,t.push(i),n.push(i.mainTemperature)}}),console.log(t),{listComponentData:t,graphComponentData:n}},a.getDay=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]},a.state={unit:"C",queryString:"",latLng:[],navbarData:{},todayComponentData:{},listComponentData:[],graphComponentData:[],lat:"",lon:"",uvIndex:null,indexForToday:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=navigator.geolocation;t?t.getCurrentPosition(function(t){e.setState({latLng:[t.coords.latitude,t.coords.longitude]},e.notifyStateChange)},function(){console.log("Permission Denied")}):console.log("GeoLocation not supported...Update the browser fella")}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(C,{data:this.state.navbarData,onUnitChange:this.onUnitChange,onSearchSubmit:this.onSearchSubmit,unit:this.state.unit}),r.a.createElement(O,{data:this.state.todayComponentData,unit:this.state.unit,uvIndex:this.state.uvIndex}),r.a.createElement("div",{className:"app-list-graph"},r.a.createElement(D,{data:this.state.listComponentData,onIndexForTodayChange:this.onIndexForTodayChange}),r.a.createElement(F,{data:this.state.graphComponentData})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,a){e.exports=a(256)}},[[95,1,2]]]);
//# sourceMappingURL=main.bd9d00cb.chunk.js.map